"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createTransformSchema = void 0;
const errors_1 = require("../errors");
const manual_1 = require("./manual");
const _1 = require(".");
const createTransformSchema = (zodTransform, state) => {
    const creationType = zodTransform._def.openapi?.effectType ?? state.type;
    if (creationType === 'output') {
        return (0, manual_1.createManualTypeSchema)(zodTransform);
    }
    if (!zodTransform._def.openapi?.effectType && state.type === 'input') {
        if (state.effectType && state.effectType !== 'input') {
            (0, errors_1.throwTransformError)(zodTransform);
        }
        state.effectType = 'input';
    }
    return (0, _1.createSchemaOrRef)(zodTransform._def.schema, state);
};
exports.createTransformSchema = createTransformSchema;
//# sourceMappingURL=transform.js.map