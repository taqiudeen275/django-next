"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createContent = void 0;
const zod_1 = require("zod");
const schema_1 = require("./schema");
const createMediaTypeSchema = (schemaObject, components, type) => {
    if (!schemaObject) {
        return undefined;
    }
    if (!(schemaObject instanceof zod_1.ZodType)) {
        return schemaObject;
    }
    return (0, schema_1.createSchemaOrRef)(schemaObject, {
        components,
        type,
    });
};
const createMediaTypeObject = (mediaTypeObject, components, type) => {
    if (!mediaTypeObject) {
        return undefined;
    }
    return {
        ...mediaTypeObject,
        schema: createMediaTypeSchema(mediaTypeObject.schema, components, type),
    };
};
const createContent = (contentObject, components, type) => Object.entries(contentObject).reduce((acc, [path, zodOpenApiMediaTypeObject]) => {
    const mediaTypeObject = createMediaTypeObject(zodOpenApiMediaTypeObject, components, type);
    if (mediaTypeObject) {
        acc[path] = mediaTypeObject;
    }
    return acc;
}, {});
exports.createContent = createContent;
//# sourceMappingURL=content.js.map